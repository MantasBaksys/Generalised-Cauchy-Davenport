%
\begin{isabellebody}%
\setisabellecontext{Generalized{\isacharunderscore}{\kern0pt}Cauchy{\isacharunderscore}{\kern0pt}Davenport{\isacharunderscore}{\kern0pt}main{\isacharunderscore}{\kern0pt}proof}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Generalized Cauchy--Davenport Theorem: main proof%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Generalized{\isacharunderscore}{\kern0pt}Cauchy{\isacharunderscore}{\kern0pt}Davenport{\isacharunderscore}{\kern0pt}main{\isacharunderscore}{\kern0pt}proof\isanewline
\ \ \isakeyword{imports}\isanewline
\ \ Generalized{\isacharunderscore}{\kern0pt}Cauchy{\isacharunderscore}{\kern0pt}Davenport{\isacharunderscore}{\kern0pt}preliminaries\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
\isanewline
\isacommand{context}\isamarkupfalse%
\ group\isanewline
\isanewline
\isakeyword{begin}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Definition of the counterexample pair relation in \cite{DeVos2016OnAG}%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{definition}\isamarkupfalse%
\ devos{\isacharunderscore}{\kern0pt}rel\ \isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}devos{\isacharunderscore}{\kern0pt}rel\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ B{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ card{\isacharparenleft}{\kern0pt}A\ {\isasymcdots}\ B{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharasterisk}{\kern0pt}mlex{\isacharasterisk}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isacharparenleft}{\kern0pt}inv{\isacharunderscore}{\kern0pt}image\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isachargreater}{\kern0pt}\ m{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharasterisk}{\kern0pt}lex{\isacharasterisk}{\kern0pt}{\isachargreater}{\kern0pt}\ \isanewline
\ \ measure\ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ B{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ card\ A{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ B{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ A\ {\isacharplus}{\kern0pt}\ card\ B{\isacharcomma}{\kern0pt}\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ B{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Lemmas about the counterexample pair relation in \cite{DeVos2016OnAG}%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ devos{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}iff{\isacharcolon}{\kern0pt}\ \isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ B{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ D{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ devos{\isacharunderscore}{\kern0pt}rel\ {\isasymlongleftrightarrow}\ card{\isacharparenleft}{\kern0pt}A\ {\isasymcdots}\ B{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ card{\isacharparenleft}{\kern0pt}C\ {\isasymcdots}\ D{\isacharparenright}{\kern0pt}\ {\isasymor}\ \isanewline
\ \ {\isacharparenleft}{\kern0pt}card{\isacharparenleft}{\kern0pt}A\ {\isasymcdots}\ B{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card{\isacharparenleft}{\kern0pt}C\ {\isasymcdots}\ D{\isacharparenright}{\kern0pt}\ {\isasymand}\ card\ A\ {\isacharplus}{\kern0pt}\ card\ B\ {\isachargreater}{\kern0pt}\ card\ C\ {\isacharplus}{\kern0pt}\ card\ D{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ {\isacharparenleft}{\kern0pt}card{\isacharparenleft}{\kern0pt}A\ {\isasymcdots}\ B{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card{\isacharparenleft}{\kern0pt}C\ {\isasymcdots}\ D{\isacharparenright}{\kern0pt}\ {\isasymand}\ card\ A\ {\isacharplus}{\kern0pt}\ card\ B\ {\isacharequal}{\kern0pt}\ card\ C\ {\isacharplus}{\kern0pt}\ card\ D\ {\isasymand}\ card\ A\ {\isacharless}{\kern0pt}\ card\ C{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ devos{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ mlex{\isacharunderscore}{\kern0pt}iff{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlambda}\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ B{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ card{\isacharparenleft}{\kern0pt}A\ {\isasymcdots}\ B{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ devos{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}smul{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ B{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ D{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ devos{\isacharunderscore}{\kern0pt}rel\ {\isasymLongrightarrow}\ card{\isacharparenleft}{\kern0pt}A\ {\isasymcdots}\ B{\isacharparenright}{\kern0pt}\ {\isasymle}\ card{\isacharparenleft}{\kern0pt}C\ {\isasymcdots}\ D{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ devos{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}iff\ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Lemma stating that the above relation due to DeVos is well-founded%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ devos{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}wf\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf\ {\isacharparenleft}{\kern0pt}Restr\ devos{\isacharunderscore}{\kern0pt}rel\ \isanewline
\ \ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ B{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ finite\ A\ {\isasymand}\ A\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymand}\ A\ {\isasymsubseteq}\ G\ {\isasymand}\ finite\ B\ {\isasymand}\ B\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymand}\ B\ {\isasymsubseteq}\ G{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}wf\ {\isacharparenleft}{\kern0pt}Restr\ devos{\isacharunderscore}{\kern0pt}rel\ {\isacharquery}{\kern0pt}fin{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ f\ \isakeyword{where}\ {\isachardoublequoteopen}f\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ B{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ card{\isacharparenleft}{\kern0pt}A{\isasymcdots}B{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ g\ \isakeyword{where}\ {\isachardoublequoteopen}g\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ {\isacharparenleft}{\kern0pt}A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ set{\isacharcomma}{\kern0pt}\ B\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ set{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ A\ {\isacharplus}{\kern0pt}\ card\ B{\isacharcomma}{\kern0pt}\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ B{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ h\ \isakeyword{where}\ {\isachardoublequoteopen}h\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ {\isacharparenleft}{\kern0pt}A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ set{\isacharcomma}{\kern0pt}\ B\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ set{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ card\ A\ {\isacharplus}{\kern0pt}\ card\ B{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ s\ \isakeyword{where}\ {\isachardoublequoteopen}s\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat{\isacharcomma}{\kern0pt}\ m\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isachargreater}{\kern0pt}\ m{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharasterisk}{\kern0pt}lex{\isacharasterisk}{\kern0pt}{\isachargreater}{\kern0pt}\ measure\ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ {\isacharparenleft}{\kern0pt}A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ set{\isacharcomma}{\kern0pt}\ B\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ set{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ card\ A{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hle{\isadigit{2}}f{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}\ x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ {\isacharquery}{\kern0pt}fin\ {\isasymLongrightarrow}\ h\ x\ {\isasymle}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ f\ x{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\ \isacommand{assume}\isamarkupfalse%
\ hx{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharquery}{\kern0pt}fin{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ A\ B\ \isakeyword{where}\ hxAB{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ B{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ A\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}A\ {\isasymcdots}\ B{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}card\ B\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}A\ {\isasymcdots}\ B{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}smul{\isacharunderscore}{\kern0pt}left\ card{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}smul{\isacharunderscore}{\kern0pt}right\ hx\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}h\ x\ {\isasymle}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ f\ x{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hxAB\ h{\isacharunderscore}{\kern0pt}def\ f{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}wf\ {\isacharparenleft}{\kern0pt}Restr\ {\isacharparenleft}{\kern0pt}measure\ f{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}fin{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ wf{\isacharunderscore}{\kern0pt}Int{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}\ a{\isachardot}{\kern0pt}\ a\ {\isasymin}\ range\ f\ {\isasymLongrightarrow}\ wf\ {\isacharparenleft}{\kern0pt}Restr\ {\isacharparenleft}{\kern0pt}Restr\ {\isacharparenleft}{\kern0pt}inv{\isacharunderscore}{\kern0pt}image\ s\ g{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ f\ x\ {\isacharequal}{\kern0pt}\ a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}fin{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ y\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}y\ {\isasymin}\ \ range\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}wf\ {\isacharparenleft}{\kern0pt}Restr\ {\isacharparenleft}{\kern0pt}Restr\ {\isacharparenleft}{\kern0pt}inv{\isacharunderscore}{\kern0pt}image\ s\ g{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ f\ x\ {\isacharequal}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}fin{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Restr\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ f\ x\ {\isacharequal}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ f\ x\ {\isacharequal}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}inv{\isacharunderscore}{\kern0pt}image\ s\ g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}fin\ {\isasymsubseteq}\ \isanewline
\ \ \ \ \ \ \ \ Restr\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}\ x{\isachardot}{\kern0pt}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ f\ x\ {\isacharminus}{\kern0pt}\ h\ x{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharasterisk}{\kern0pt}mlex{\isacharasterisk}{\kern0pt}{\isachargreater}{\kern0pt}\ measure\ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ {\isacharparenleft}{\kern0pt}A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ set{\isacharcomma}{\kern0pt}\ B\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ set{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ card\ A{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ \isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ f\ x\ {\isacharequal}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ f\ x\ {\isacharequal}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}fin{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ z\ \isacommand{assume}\isamarkupfalse%
\ hz{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\ Restr\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ f\ x\ {\isacharequal}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ f\ x\ {\isacharequal}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}inv{\isacharunderscore}{\kern0pt}image\ s\ g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}fin{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ a\ b\ \isakeyword{where}\ hzab{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}f\ a\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}f\ b\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\ \isakeyword{and}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}h\ a\ {\isachargreater}{\kern0pt}\ h\ b\ {\isasymor}\ h\ a\ {\isacharequal}{\kern0pt}\ h\ b\ {\isasymand}\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ {\isasymin}\ measure\ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ B{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ card\ A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}a\ {\isasymin}\ {\isacharquery}{\kern0pt}fin{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}b\ {\isasymin}\ {\isacharquery}{\kern0pt}fin{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}def\ g{\isacharunderscore}{\kern0pt}def\ h{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ f\ a\ {\isacharminus}{\kern0pt}\ h\ a\ {\isacharless}{\kern0pt}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ f\ b\ {\isacharminus}{\kern0pt}\ h\ b\ {\isasymor}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ f\ a\ {\isacharminus}{\kern0pt}\ h\ a\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ f\ b\ {\isacharminus}{\kern0pt}\ h\ b\ {\isasymand}\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ {\isasymin}\ measure\ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ B{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ card\ A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ hle{\isadigit{2}}f\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}\ diff{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}mono{\isadigit{2}}\ le{\isacharunderscore}{\kern0pt}antisym\ nat{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}z\ {\isasymin}\ Restr\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}\ x{\isachardot}{\kern0pt}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ f\ x\ {\isacharminus}{\kern0pt}\ h\ x{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharasterisk}{\kern0pt}mlex{\isacharasterisk}{\kern0pt}{\isachargreater}{\kern0pt}\ measure\ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ B{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ card\ A{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ \isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ f\ x\ {\isacharequal}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ f\ x\ {\isacharequal}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}fin{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hzab\ hz\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mlex{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}wf\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}\ x{\isachardot}{\kern0pt}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ f\ x\ {\isacharminus}{\kern0pt}\ h\ x{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharasterisk}{\kern0pt}mlex{\isacharasterisk}{\kern0pt}{\isachargreater}{\kern0pt}\ measure\ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ B{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ card\ A{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ wf{\isacharunderscore}{\kern0pt}mlex{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Int{\isacharunderscore}{\kern0pt}commute\ wf{\isacharunderscore}{\kern0pt}Int{\isadigit{1}}\ wf{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}trans\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}fin\ {\isasymtimes}\ {\isacharquery}{\kern0pt}fin{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ trans{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}wf\ {\isacharparenleft}{\kern0pt}Restr\ {\isacharparenleft}{\kern0pt}inv{\isacharunderscore}{\kern0pt}image\ {\isacharparenleft}{\kern0pt}less{\isacharunderscore}{\kern0pt}than\ {\isacharless}{\kern0pt}{\isacharasterisk}{\kern0pt}lex{\isacharasterisk}{\kern0pt}{\isachargreater}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ c{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ c{\isacharcomma}{\kern0pt}\ g\ c{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}fin{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}lex{\isacharunderscore}{\kern0pt}fibers{\isacharunderscore}{\kern0pt}inter{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}less{\isacharunderscore}{\kern0pt}than{\isachardoublequoteclose}\ {\isachardoublequoteopen}f{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}fin\ {\isasymtimes}\ {\isacharquery}{\kern0pt}fin{\isachardoublequoteclose}\ {\isachardoublequoteopen}s{\isachardoublequoteclose}\ {\isachardoublequoteopen}g{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ inf{\isacharunderscore}{\kern0pt}sup{\isacharunderscore}{\kern0pt}aci{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}inv{\isacharunderscore}{\kern0pt}image\ {\isacharparenleft}{\kern0pt}less{\isacharunderscore}{\kern0pt}than\ {\isacharless}{\kern0pt}{\isacharasterisk}{\kern0pt}lex{\isacharasterisk}{\kern0pt}{\isachargreater}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ c{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ c{\isacharcomma}{\kern0pt}\ g\ c{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ devos{\isacharunderscore}{\kern0pt}rel{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}def\ f{\isacharunderscore}{\kern0pt}def\ g{\isacharunderscore}{\kern0pt}def\ devos{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ mlex{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Definition of $p(G)$ in \cite{DeVos2016OnAG} with associated lemmas%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{definition}\isamarkupfalse%
\ p\ \isakeyword{where}\ {\isachardoublequoteopen}p\ {\isacharequal}{\kern0pt}\ Inf\ {\isacharparenleft}{\kern0pt}card\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}H{\isachardot}{\kern0pt}\ subgroup\ H\ G\ {\isacharparenleft}{\kern0pt}{\isasymcdot}{\isacharparenright}{\kern0pt}\ {\isasymone}\ {\isasymand}\ finite\ H\ {\isasymand}\ H\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isasymone}{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ powers{\isacharunderscore}{\kern0pt}subgroup{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}g\ {\isasymin}\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}subgroup\ {\isacharparenleft}{\kern0pt}powers\ g{\isacharparenright}{\kern0pt}\ G\ {\isacharparenleft}{\kern0pt}{\isasymcdot}{\isacharparenright}{\kern0pt}\ {\isasymone}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ assms\ powers{\isacharunderscore}{\kern0pt}group\ powers{\isacharunderscore}{\kern0pt}submonoid\ subgroup{\isachardot}{\kern0pt}intro{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ subgroup{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}ge{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}subgroup\ H\ G\ {\isacharparenleft}{\kern0pt}{\isasymcdot}{\isacharparenright}{\kern0pt}\ {\isasymone}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}H\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isasymone}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}finite\ H{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}card\ H\ {\isasymge}\ p{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}def\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ wellorder{\isacharunderscore}{\kern0pt}Inf{\isacharunderscore}{\kern0pt}le{\isadigit{1}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ subgroup{\isacharunderscore}{\kern0pt}infinite{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}ge{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}subgroup\ H\ G\ {\isacharparenleft}{\kern0pt}{\isasymcdot}{\isacharparenright}{\kern0pt}\ {\isasymone}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}H\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isasymone}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}infinite\ H\ {\isasymor}\ card\ H\ {\isasymge}\ p{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ subgroup{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}ge\ assms\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{end}\isamarkupfalse%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Proof of the Generalized Cauchy-Davenport for (non-abelian) groups%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
Generalized Cauchy-Davenport theorem for (non-abelian) groups due to Matt DeVos \cite{DeVos2016OnAG}%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ group{\isacharparenright}{\kern0pt}\ Generalized{\isacharunderscore}{\kern0pt}Cauchy{\isacharunderscore}{\kern0pt}Davenport{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ hAne{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ hBne{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}B\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ hAG{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isasymsubseteq}\ G{\isachardoublequoteclose}\ \isakeyword{and}\ hBG{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}B\ {\isasymsubseteq}\ G{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ hAfin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\ hBfin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ B{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ hsub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}H{\isachardot}{\kern0pt}\ subgroup{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}group\ H\ G\ {\isacharparenleft}{\kern0pt}{\isasymcdot}{\isacharparenright}{\kern0pt}\ {\isasymone}\ {\isasymand}\ finite\ H\ {\isasymand}\ H\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isasymone}{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}A\ {\isasymcdots}\ B{\isacharparenright}{\kern0pt}\ {\isasymge}\ min\ p\ {\isacharparenleft}{\kern0pt}card\ A\ {\isacharplus}{\kern0pt}\ card\ B\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ hcontr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ min\ p\ {\isacharparenleft}{\kern0pt}card\ A\ {\isacharplus}{\kern0pt}\ card\ B\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}A\ {\isasymcdots}\ B{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}fin\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ B{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ finite\ A\ {\isasymand}\ A\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymand}\ A\ {\isasymsubseteq}\ G\ {\isasymand}\ finite\ B\ {\isasymand}\ B\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymand}\ B\ {\isasymsubseteq}\ G{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ M\ \isakeyword{where}\ {\isachardoublequoteopen}M\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ B{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}A\ {\isasymcdots}\ B{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ min\ p\ {\isacharparenleft}{\kern0pt}card\ A\ {\isacharplus}{\kern0pt}\ card\ B\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ {\isacharquery}{\kern0pt}fin{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hmemM{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ B{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ hcontr\ M{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ X\ Y\ \isakeyword{where}\ hXYM{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isakeyword{and}\ hmin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}Z{\isachardot}{\kern0pt}\ Z\ {\isasymin}\ M\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}Z{\isacharcomma}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ Restr\ devos{\isacharunderscore}{\kern0pt}rel\ {\isacharquery}{\kern0pt}fin{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ devos{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}wf\ wfE{\isacharunderscore}{\kern0pt}min\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ del{\isacharunderscore}{\kern0pt}insts{\isacharparenright}{\kern0pt}\ old{\isachardot}{\kern0pt}prod{\isachardot}{\kern0pt}exhaust{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hXG{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymsubseteq}\ G{\isachardoublequoteclose}\ \isakeyword{and}\ hYG{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Y\ {\isasymsubseteq}\ G{\isachardoublequoteclose}\ \isakeyword{and}\ hXfin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ X{\isachardoublequoteclose}\ \isakeyword{and}\ hYfin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ Y{\isachardoublequoteclose}\ \isakeyword{and}\ \isanewline
\ \ \ \ hXYlt{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}X\ {\isasymcdots}\ Y{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ min\ p\ {\isacharparenleft}{\kern0pt}card\ X\ {\isacharplus}{\kern0pt}\ card\ Y\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hXYM\ M{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hXY{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ X\ {\isasymle}\ card\ Y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ hcontr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ card\ X\ {\isasymle}\ card\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ hinvinj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ inverse\ G{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ inj{\isacharunderscore}{\kern0pt}onI\ invertible\ invertible{\isacharunderscore}{\kern0pt}inverse{\isacharunderscore}{\kern0pt}inverse\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}M\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}inverse\ {\isacharbackquote}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}N\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}inverse\ {\isacharbackquote}{\kern0pt}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}N\ {\isasymcdots}\ {\isacharquery}{\kern0pt}M\ {\isacharequal}{\kern0pt}\ inverse\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymcdots}\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}inverse{\isacharunderscore}{\kern0pt}composition{\isacharunderscore}{\kern0pt}commute\ hXYM\ M{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ hNM{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}N\ {\isasymcdots}\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}X\ {\isasymcdots}\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ hinvinj\ card{\isacharunderscore}{\kern0pt}image\ subset{\isacharunderscore}{\kern0pt}inj{\isacharunderscore}{\kern0pt}on\ smul{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}carrier\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ hM{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharquery}{\kern0pt}M\ {\isacharequal}{\kern0pt}\ card\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ hinvinj\ hXG\ hYG\ card{\isacharunderscore}{\kern0pt}image\ subset{\isacharunderscore}{\kern0pt}inj{\isacharunderscore}{\kern0pt}on\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ hN{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharquery}{\kern0pt}N\ {\isacharequal}{\kern0pt}\ card\ Y{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ hinvinj\ hYG\ card{\isacharunderscore}{\kern0pt}image\ subset{\isacharunderscore}{\kern0pt}inj{\isacharunderscore}{\kern0pt}on\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ hNplusM{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharquery}{\kern0pt}N\ {\isacharplus}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}M\ {\isacharequal}{\kern0pt}\ card\ X\ {\isacharplus}{\kern0pt}\ card\ Y{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hM\ hN\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}N\ {\isasymcdots}\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ min\ p\ {\isacharparenleft}{\kern0pt}card\ {\isacharquery}{\kern0pt}N\ {\isacharplus}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}M\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ hXYM\ M{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}N{\isacharcomma}{\kern0pt}\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}def\ hXYM\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}N{\isacharcomma}{\kern0pt}\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ devos{\isacharunderscore}{\kern0pt}rel{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hmin\ hXYM\ M{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ card\ Y\ {\isacharless}{\kern0pt}\ card\ X{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hN\ \ hNM\ hNplusM\ devos{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}iff\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\ \isacommand{using}\isamarkupfalse%
\ hcontr\ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hX{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isasymle}\ card\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}\ {\isasymnot}\ {\isadigit{2}}\ {\isasymle}\ card\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ X\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hXYM\ M{\isacharunderscore}{\kern0pt}def\ card{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ hX{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ X\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}x\ {\isasymin}\ G{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hXG\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ card{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}singletonE\ insert{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}X\ {\isasymcdots}\ Y{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ X\ {\isacharplus}{\kern0pt}\ card\ Y\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}smul{\isacharunderscore}{\kern0pt}singleton{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}eq\ hYG\ hXYM\ M{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Int{\isacharunderscore}{\kern0pt}absorb{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\ \isacommand{using}\isamarkupfalse%
\ hXYlt\ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ a\ b\ \isakeyword{where}\ habX{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\ \isakeyword{and}\ habne{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymnoteq}\ b{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ card{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}iff\ obtain{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}with{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}b\ {\isasymin}\ X\ {\isasymcdots}\ {\isacharbraceleft}{\kern0pt}inverse\ a\ {\isasymcdot}\ b{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}\ habX\ composition{\isacharunderscore}{\kern0pt}closed\ hXG\ insert{\isacharunderscore}{\kern0pt}subset\ \isanewline
\ \ \ \ invertible\ invertible{\isacharunderscore}{\kern0pt}inverse{\isacharunderscore}{\kern0pt}closed\ invertible{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}inverse{\isadigit{2}}\ singletonI\ smul{\isachardot}{\kern0pt}smulI\ subsetD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ g\ \isakeyword{where}\ hgG{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymin}\ G{\isachardoublequoteclose}\ \isakeyword{and}\ hg{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymnoteq}\ {\isasymone}{\isachardoublequoteclose}\ \isakeyword{and}\ hXgne{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}X\ {\isasymcdots}\ {\isacharbraceleft}{\kern0pt}g{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ X\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ habne\ habX\ hXG\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ composition{\isacharunderscore}{\kern0pt}closed\ insert{\isacharunderscore}{\kern0pt}disjoint{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}subset\ invertible\ \isanewline
\ \ \ \ \ \ invertible{\isacharunderscore}{\kern0pt}inverse{\isacharunderscore}{\kern0pt}closed\ invertible{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}inverse{\isadigit{2}}\ mk{\isacharunderscore}{\kern0pt}disjoint{\isacharunderscore}{\kern0pt}insert\ right{\isacharunderscore}{\kern0pt}unit{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hpsubX{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}X\ {\isasymcdots}\ {\isacharbraceleft}{\kern0pt}g{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ X\ {\isasymsubset}\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}X\ {\isasymcdots}\ {\isacharbraceleft}{\kern0pt}g{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ X\ {\isasymsubset}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ hXsub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymsubseteq}\ X\ {\isasymcdots}\ {\isacharbraceleft}{\kern0pt}g{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ X\ {\isasymcdots}\ {\isacharbraceleft}{\kern0pt}g{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ X{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}smul{\isacharunderscore}{\kern0pt}sing{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}le\ hXYM\ M{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Int{\isacharunderscore}{\kern0pt}absorb{\isadigit{2}}\ {\isacartoucheopen}g\ {\isasymin}\ G{\isacartoucheclose}\ card{\isachardot}{\kern0pt}infinite\ card{\isacharunderscore}{\kern0pt}smul{\isacharunderscore}{\kern0pt}singleton{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}eq\ finite{\isacharunderscore}{\kern0pt}Int\ hXG{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ hXfin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ X{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hXYM\ M{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isasymcdots}\ {\isacharbraceleft}{\kern0pt}g{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ X{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hXsub\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ card{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}eq\ finite{\isachardot}{\kern0pt}emptyI\ finite{\isachardot}{\kern0pt}insertI\ finite{\isacharunderscore}{\kern0pt}smul{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ hXpow{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymcdots}\ {\isacharparenleft}{\kern0pt}powers\ g{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ X{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ hXG\ hgG\ smul{\isacharunderscore}{\kern0pt}singleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}powers{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ hfinpowers{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}powers\ g{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}infinite\ {\isacharparenleft}{\kern0pt}powers\ g{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}infinite\ X{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hXG\ hX{\isadigit{2}}\ hXpow\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Int{\isacharunderscore}{\kern0pt}absorb{\isadigit{1}}\ hXgne\ hXsub\ hgG\ \isanewline
\ \ \ \ \ \ \ \ infinite{\isacharunderscore}{\kern0pt}smul{\isacharunderscore}{\kern0pt}right\ invertible\ le{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}inf\ powers{\isacharunderscore}{\kern0pt}submonoid\ submonoid{\isachardot}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\ \isacommand{using}\isamarkupfalse%
\ hXYM\ M{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}powers\ g{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ X{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}smul{\isacharunderscore}{\kern0pt}right\ \isanewline
\ \ \ \ \ \ powers{\isacharunderscore}{\kern0pt}submonoid\ submonoid{\isachardot}{\kern0pt}subset\ hXYM\ M{\isacharunderscore}{\kern0pt}def\ habX\ hXG\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ hXfin\ hgG\ insert{\isacharunderscore}{\kern0pt}subset\ invertible\ subsetD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}p\ {\isasymle}\ card\ X{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ hfinpowers\ hg{\isadigit{1}}\ hgG\ le{\isacharunderscore}{\kern0pt}trans\ powers{\isacharunderscore}{\kern0pt}ne{\isacharunderscore}{\kern0pt}one\ powers{\isacharunderscore}{\kern0pt}subgroup\ subgroup{\isacharunderscore}{\kern0pt}infinite{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}ge{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}p\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}X\ {\isasymcdots}\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}smul{\isacharunderscore}{\kern0pt}left\ hXYM\ M{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}full{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}\ {\isacartoucheopen}b\ {\isasymin}\ smul\ X\ {\isacharbraceleft}{\kern0pt}inverse\ a\ {\isasymcdot}\ b{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\ bot{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}extremum{\isacharunderscore}{\kern0pt}uniqueI\ card{\isachardot}{\kern0pt}infinite\ \isanewline
\ \ \ \ \ \ \ \ \ \ card{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}eq\ card{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}smul{\isacharunderscore}{\kern0pt}right\ empty{\isacharunderscore}{\kern0pt}iff\ hXY\ hXfin\ hYG\ le{\isacharunderscore}{\kern0pt}trans\ smul{\isachardot}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\ \isacommand{using}\isamarkupfalse%
\ hXYlt\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}X{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}X\ {\isasymcdots}\ {\isacharbraceleft}{\kern0pt}g{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}X{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}X\ {\isasymcdots}\ {\isacharbraceleft}{\kern0pt}g{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}Y{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}inverse\ g{\isacharbraceright}{\kern0pt}\ {\isasymcdots}\ Y{\isacharparenright}{\kern0pt}\ {\isasymunion}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}Y{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}inverse\ g{\isacharbraceright}{\kern0pt}\ {\isasymcdots}\ Y{\isacharparenright}{\kern0pt}\ {\isasyminter}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hY{\isadigit{1}}G{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}Y{\isadigit{1}}\ {\isasymsubseteq}\ G{\isachardoublequoteclose}\ \isakeyword{and}\ hY{\isadigit{1}}fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharquery}{\kern0pt}Y{\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{and}\ hX{\isadigit{2}}G{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}X{\isadigit{2}}\ {\isasymsubseteq}\ G{\isachardoublequoteclose}\ \isakeyword{and}\ hX{\isadigit{2}}fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharquery}{\kern0pt}X{\isadigit{2}}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ hYfin\ hYG\ hXG\ finite{\isacharunderscore}{\kern0pt}smul\ hXfin\ smul{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}carrier\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hXY{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}X{\isadigit{1}}\ {\isasymcdots}\ {\isacharquery}{\kern0pt}Y{\isadigit{1}}\ {\isasymsubseteq}\ X\ {\isasymcdots}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ z\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}z\ {\isasymin}\ {\isacharquery}{\kern0pt}X{\isadigit{1}}\ {\isasymcdots}\ {\isacharquery}{\kern0pt}Y{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ y\ \isakeyword{where}\ hz{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isacharequal}{\kern0pt}\ x\ {\isasymcdot}\ y{\isachardoublequoteclose}\ \isakeyword{and}\ hx{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharquery}{\kern0pt}X{\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{and}\ hy{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\ {\isacharquery}{\kern0pt}Y{\isadigit{1}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ smul{\isachardot}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}z\ {\isasymin}\ X\ {\isasymcdots}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}y\ {\isasymin}\ Y{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ hz\ hx\ smulI\ hXG\ hYG\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ w\ \isakeyword{where}\ {\isachardoublequoteopen}y\ {\isacharequal}{\kern0pt}\ inverse\ g\ {\isasymcdot}\ \ w{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}w\ {\isasymin}\ Y{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hy\ smul{\isachardot}{\kern0pt}cases\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ UnE\ singletonD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ v\ \isakeyword{where}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ v\ {\isasymcdot}\ g{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}v\ {\isasymin}\ X{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hx\ smul{\isachardot}{\kern0pt}cases\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ hz\ hXG\ hYG\ hgG\ associative\ invertible{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}inverse{\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ smul{\isachardot}{\kern0pt}smulI\ subsetD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hXY{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}X{\isadigit{2}}\ {\isasymcdots}\ {\isacharquery}{\kern0pt}Y{\isadigit{2}}\ {\isasymsubseteq}\ X\ {\isasymcdots}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ z\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}z\ {\isasymin}\ {\isacharquery}{\kern0pt}X{\isadigit{2}}\ {\isasymcdots}\ {\isacharquery}{\kern0pt}Y{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ y\ \isakeyword{where}\ hz{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isacharequal}{\kern0pt}\ x\ {\isasymcdot}\ y{\isachardoublequoteclose}\ \isakeyword{and}\ hx{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharquery}{\kern0pt}X{\isadigit{2}}{\isachardoublequoteclose}\ \isakeyword{and}\ hy{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\ {\isacharquery}{\kern0pt}Y{\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ smul{\isachardot}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}z\ {\isasymin}\ X\ {\isasymcdots}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}x\ {\isasymin}\ X{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ hz\ hy\ smulI\ hXG\ hYG\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ v\ \isakeyword{where}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ v\ {\isasymcdot}\ g{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}v\ {\isasymin}\ X{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hx\ smul{\isachardot}{\kern0pt}cases\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ UnE\ singletonD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ w\ \isakeyword{where}\ {\isachardoublequoteopen}y\ {\isacharequal}{\kern0pt}\ inverse\ g\ {\isasymcdot}\ w{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}w\ {\isasymin}\ Y{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hy\ smul{\isachardot}{\kern0pt}cases\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ hz\ hXG\ hYG\ hgG\ associative\ invertible{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}inverse{\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ smul{\isachardot}{\kern0pt}smulI\ subsetD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hY{\isadigit{2}}ne{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}Y{\isadigit{2}}\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ hY{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}Y{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ X\ {\isacharplus}{\kern0pt}\ card\ Y\ {\isasymle}\ card\ Y\ {\isacharplus}{\kern0pt}\ card\ Y{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ hXY{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}Y{\isadigit{1}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}disjoint\ hYfin\ hYG\ hgG\ finite{\isacharunderscore}{\kern0pt}smul\ inf{\isachardot}{\kern0pt}orderE\ invertible\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ hY{\isadigit{2}}\ card{\isacharunderscore}{\kern0pt}smul{\isacharunderscore}{\kern0pt}singleton{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}eq\ finite{\isachardot}{\kern0pt}emptyI\ finite{\isachardot}{\kern0pt}insertI\ invertible{\isacharunderscore}{\kern0pt}inverse{\isacharunderscore}{\kern0pt}closed{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}X{\isadigit{1}}\ {\isasymcdots}\ {\isacharquery}{\kern0pt}Y{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}smul{\isacharunderscore}{\kern0pt}right{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ hY{\isadigit{1}}fin\ hY{\isadigit{1}}G{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ hXgne\ hXG\ Int{\isacharunderscore}{\kern0pt}assoc\ Int{\isacharunderscore}{\kern0pt}commute\ ex{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}conv\ finite{\isacharunderscore}{\kern0pt}Int\ hXfin\ smul{\isachardot}{\kern0pt}simps\ smul{\isacharunderscore}{\kern0pt}D{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ smul{\isacharunderscore}{\kern0pt}Int{\isacharunderscore}{\kern0pt}carrier\ unit{\isacharunderscore}{\kern0pt}closed\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}X\ {\isasymcdots}\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hXY{\isadigit{1}}\ finite{\isacharunderscore}{\kern0pt}smul\ card{\isacharunderscore}{\kern0pt}mono\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ hXfin\ hYfin{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\ \isacommand{using}\isamarkupfalse%
\ hXYlt\ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hXadd{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharquery}{\kern0pt}X{\isadigit{1}}\ {\isacharplus}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}X{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ card\ X{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}smul{\isacharunderscore}{\kern0pt}singleton{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}eq\ hgG\ hXfin\ hXG\ card{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}Int\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Un{\isacharunderscore}{\kern0pt}Int{\isacharunderscore}{\kern0pt}eq{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ add{\isachardot}{\kern0pt}commute\ finite{\isachardot}{\kern0pt}emptyI\ finite{\isachardot}{\kern0pt}insertI\ finite{\isacharunderscore}{\kern0pt}smul\ mult{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ subset{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hYadd{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharquery}{\kern0pt}Y{\isadigit{1}}\ {\isacharplus}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}Y{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ card\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}smul{\isacharunderscore}{\kern0pt}singleton{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}eq\ hgG\ hYfin\ hYG\ card{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}Int\ finite{\isacharunderscore}{\kern0pt}smul\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Int{\isacharunderscore}{\kern0pt}lower{\isadigit{1}}\ Un{\isacharunderscore}{\kern0pt}Int{\isacharunderscore}{\kern0pt}eq{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}eq\ card{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}le\ card{\isacharunderscore}{\kern0pt}seteq\ finite{\isachardot}{\kern0pt}emptyI\ finite{\isachardot}{\kern0pt}insertI\ \ \isanewline
\ \ \ \ \ \ hY{\isadigit{2}}ne\ le{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}same{\isacharunderscore}{\kern0pt}cancel{\isadigit{1}}\ mult{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ subset{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}card\ {\isacharquery}{\kern0pt}X{\isadigit{2}}\ {\isacharplus}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}Y{\isadigit{2}}\ {\isachargreater}{\kern0pt}\ card\ X\ {\isacharplus}{\kern0pt}\ card\ Y{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ h{\isacharcolon}{\kern0pt}\ True\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ hXY{\isadigit{2}}le{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}X{\isadigit{2}}\ {\isasymcdots}\ {\isacharquery}{\kern0pt}Y{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}X\ {\isasymcdots}\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hXY{\isadigit{2}}\ finite{\isacharunderscore}{\kern0pt}smul\ card{\isacharunderscore}{\kern0pt}mono\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ hXfin\ hYfin{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}\ min\ p\ {\isacharparenleft}{\kern0pt}card\ X\ {\isacharplus}{\kern0pt}\ card\ Y\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hXYlt\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ min\ p\ {\isacharparenleft}{\kern0pt}card\ {\isacharquery}{\kern0pt}X{\isadigit{2}}\ {\isacharplus}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}Y{\isadigit{2}}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ h\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ hXY{\isadigit{1}}M{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}X{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isacharquery}{\kern0pt}Y{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}def\ hY{\isadigit{2}}ne\ hX{\isadigit{2}}fin\ hX{\isadigit{2}}G\ hXYM\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}X{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isacharquery}{\kern0pt}Y{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ \ Restr\ devos{\isacharunderscore}{\kern0pt}rel\ {\isacharquery}{\kern0pt}fin{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hXYM\ M{\isacharunderscore}{\kern0pt}def\ hXY{\isadigit{1}}M\ h\ hXY{\isadigit{2}}le\ \isanewline
\ \ \ \ \ \ \ \ devos{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}iff\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\ \isacommand{using}\isamarkupfalse%
\ hmin\ \isacommand{by}\isamarkupfalse%
\ blast\ \isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ h{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharquery}{\kern0pt}X{\isadigit{1}}\ {\isacharplus}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}Y{\isadigit{1}}\ {\isasymge}\ card\ X\ {\isacharplus}{\kern0pt}\ card\ Y{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hXadd\ hYadd\ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ hX{\isadigit{1}}lt{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharquery}{\kern0pt}X{\isadigit{1}}\ {\isacharless}{\kern0pt}\ card\ X{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hXfin\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ hpsubX\ psubset{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ hXY{\isadigit{1}}le{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}X{\isadigit{1}}\ {\isasymcdots}\ {\isacharquery}{\kern0pt}Y{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}X\ {\isasymcdots}\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hXY{\isadigit{1}}\ finite{\isacharunderscore}{\kern0pt}smul\ card{\isacharunderscore}{\kern0pt}mono\ hYfin\ hXfin\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}\ min\ p\ {\isacharparenleft}{\kern0pt}card\ X\ {\isacharplus}{\kern0pt}\ card\ Y\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hXYlt\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ min\ p\ {\isacharparenleft}{\kern0pt}card\ {\isacharquery}{\kern0pt}X{\isadigit{1}}\ {\isacharplus}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}Y{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ h\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ hXY{\isadigit{1}}M{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}X{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isacharquery}{\kern0pt}Y{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}def\ hXgne\ hY{\isadigit{1}}fin\ hY{\isadigit{1}}G\ hXYM\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}X{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isacharquery}{\kern0pt}Y{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ \ Restr\ devos{\isacharunderscore}{\kern0pt}rel\ {\isacharquery}{\kern0pt}fin{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ hXYM\ M{\isacharunderscore}{\kern0pt}def\ hXY{\isadigit{1}}M\ h\ hXY{\isadigit{1}}le\ \isanewline
\ \ \ \ \ \ \ \ devos{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}iff\ hX{\isadigit{1}}lt\ hXY{\isadigit{1}}le\ h\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ hmin\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/IsabelleProjects/Generalized_Cauchy_Davenport/Generalized_Cauchy_Davenport_main_proof.thy%:%
%:%11=1%:%
%:%27=14%:%
%:%28=14%:%
%:%29=15%:%
%:%30=16%:%
%:%31=17%:%
%:%36=17%:%
%:%39=18%:%
%:%40=19%:%
%:%41=19%:%
%:%42=20%:%
%:%43=21%:%
%:%50=23%:%
%:%60=24%:%
%:%61=24%:%
%:%62=25%:%
%:%70=28%:%
%:%80=29%:%
%:%81=29%:%
%:%82=30%:%
%:%84=32%:%
%:%87=33%:%
%:%91=33%:%
%:%92=33%:%
%:%93=33%:%
%:%98=33%:%
%:%101=34%:%
%:%102=35%:%
%:%103=35%:%
%:%104=36%:%
%:%107=37%:%
%:%111=37%:%
%:%112=37%:%
%:%113=37%:%
%:%122=39%:%
%:%124=40%:%
%:%125=40%:%
%:%126=41%:%
%:%133=42%:%
%:%134=42%:%
%:%135=43%:%
%:%136=43%:%
%:%137=44%:%
%:%138=44%:%
%:%139=45%:%
%:%140=45%:%
%:%141=46%:%
%:%142=46%:%
%:%143=47%:%
%:%144=47%:%
%:%145=48%:%
%:%146=48%:%
%:%147=49%:%
%:%148=49%:%
%:%149=49%:%
%:%150=50%:%
%:%151=50%:%
%:%152=50%:%
%:%153=50%:%
%:%154=51%:%
%:%155=51%:%
%:%156=51%:%
%:%157=52%:%
%:%158=52%:%
%:%159=52%:%
%:%160=53%:%
%:%161=53%:%
%:%162=53%:%
%:%163=53%:%
%:%164=53%:%
%:%165=54%:%
%:%166=54%:%
%:%167=55%:%
%:%168=55%:%
%:%169=55%:%
%:%170=56%:%
%:%171=56%:%
%:%172=56%:%
%:%173=57%:%
%:%174=57%:%
%:%175=58%:%
%:%176=58%:%
%:%177=58%:%
%:%178=59%:%
%:%179=59%:%
%:%180=59%:%
%:%181=60%:%
%:%182=60%:%
%:%183=61%:%
%:%184=61%:%
%:%186=63%:%
%:%187=64%:%
%:%188=64%:%
%:%189=65%:%
%:%190=65%:%
%:%191=65%:%
%:%192=66%:%
%:%193=66%:%
%:%194=66%:%
%:%195=67%:%
%:%196=68%:%
%:%197=69%:%
%:%198=69%:%
%:%199=69%:%
%:%200=70%:%
%:%201=70%:%
%:%202=70%:%
%:%203=71%:%
%:%204=72%:%
%:%205=72%:%
%:%206=72%:%
%:%207=73%:%
%:%208=73%:%
%:%209=73%:%
%:%210=74%:%
%:%211=74%:%
%:%212=74%:%
%:%213=75%:%
%:%214=75%:%
%:%215=76%:%
%:%216=76%:%
%:%217=76%:%
%:%218=77%:%
%:%219=77%:%
%:%220=78%:%
%:%221=78%:%
%:%222=78%:%
%:%223=78%:%
%:%224=79%:%
%:%225=79%:%
%:%226=80%:%
%:%227=80%:%
%:%228=81%:%
%:%229=81%:%
%:%230=81%:%
%:%231=81%:%
%:%232=81%:%
%:%233=82%:%
%:%234=82%:%
%:%235=82%:%
%:%236=83%:%
%:%237=83%:%
%:%238=84%:%
%:%239=84%:%
%:%240=85%:%
%:%241=85%:%
%:%242=85%:%
%:%243=86%:%
%:%244=86%:%
%:%245=86%:%
%:%246=87%:%
%:%247=87%:%
%:%248=87%:%
%:%249=87%:%
%:%250=88%:%
%:%265=90%:%
%:%275=91%:%
%:%276=91%:%
%:%277=92%:%
%:%278=93%:%
%:%279=93%:%
%:%280=94%:%
%:%281=95%:%
%:%284=96%:%
%:%288=96%:%
%:%289=96%:%
%:%294=96%:%
%:%297=97%:%
%:%298=98%:%
%:%299=98%:%
%:%300=99%:%
%:%301=100%:%
%:%304=101%:%
%:%308=101%:%
%:%309=101%:%
%:%310=101%:%
%:%315=101%:%
%:%318=102%:%
%:%319=103%:%
%:%320=103%:%
%:%321=104%:%
%:%322=105%:%
%:%324=105%:%
%:%328=105%:%
%:%329=105%:%
%:%330=105%:%
%:%337=105%:%
%:%338=106%:%
%:%339=107%:%
%:%347=109%:%
%:%359=111%:%
%:%361=112%:%
%:%362=112%:%
%:%363=113%:%
%:%364=114%:%
%:%365=115%:%
%:%366=116%:%
%:%373=117%:%
%:%374=117%:%
%:%375=118%:%
%:%376=118%:%
%:%377=119%:%
%:%378=119%:%
%:%379=120%:%
%:%380=120%:%
%:%381=121%:%
%:%382=121%:%
%:%383=121%:%
%:%384=121%:%
%:%385=122%:%
%:%386=122%:%
%:%387=122%:%
%:%388=123%:%
%:%389=123%:%
%:%390=123%:%
%:%391=124%:%
%:%392=124%:%
%:%393=125%:%
%:%394=125%:%
%:%395=125%:%
%:%396=126%:%
%:%397=126%:%
%:%398=127%:%
%:%399=127%:%
%:%400=128%:%
%:%401=128%:%
%:%402=129%:%
%:%403=129%:%
%:%404=129%:%
%:%405=129%:%
%:%406=130%:%
%:%407=130%:%
%:%408=131%:%
%:%409=131%:%
%:%410=132%:%
%:%411=132%:%
%:%412=132%:%
%:%413=132%:%
%:%414=133%:%
%:%415=133%:%
%:%416=133%:%
%:%417=134%:%
%:%418=134%:%
%:%419=134%:%
%:%420=135%:%
%:%421=135%:%
%:%422=135%:%
%:%423=136%:%
%:%424=136%:%
%:%425=136%:%
%:%426=137%:%
%:%427=137%:%
%:%428=137%:%
%:%429=138%:%
%:%430=138%:%
%:%431=138%:%
%:%432=139%:%
%:%433=139%:%
%:%434=139%:%
%:%435=139%:%
%:%436=139%:%
%:%437=140%:%
%:%438=140%:%
%:%439=140%:%
%:%440=141%:%
%:%441=141%:%
%:%442=141%:%
%:%443=142%:%
%:%444=142%:%
%:%445=142%:%
%:%446=142%:%
%:%447=142%:%
%:%448=143%:%
%:%449=143%:%
%:%450=143%:%
%:%451=143%:%
%:%452=143%:%
%:%453=144%:%
%:%454=144%:%
%:%455=144%:%
%:%456=144%:%
%:%457=144%:%
%:%458=145%:%
%:%459=145%:%
%:%460=145%:%
%:%461=145%:%
%:%462=145%:%
%:%463=146%:%
%:%464=146%:%
%:%465=147%:%
%:%466=147%:%
%:%467=148%:%
%:%468=148%:%
%:%469=149%:%
%:%470=149%:%
%:%471=150%:%
%:%472=150%:%
%:%473=150%:%
%:%474=150%:%
%:%475=150%:%
%:%476=151%:%
%:%477=151%:%
%:%478=151%:%
%:%479=151%:%
%:%480=152%:%
%:%481=152%:%
%:%482=152%:%
%:%483=152%:%
%:%484=152%:%
%:%485=153%:%
%:%486=153%:%
%:%487=153%:%
%:%488=153%:%
%:%489=154%:%
%:%490=154%:%
%:%491=155%:%
%:%492=155%:%
%:%493=155%:%
%:%494=155%:%
%:%495=155%:%
%:%496=156%:%
%:%497=156%:%
%:%498=157%:%
%:%499=157%:%
%:%500=157%:%
%:%501=157%:%
%:%502=158%:%
%:%503=158%:%
%:%504=158%:%
%:%505=158%:%
%:%506=159%:%
%:%507=160%:%
%:%508=160%:%
%:%509=160%:%
%:%510=161%:%
%:%511=161%:%
%:%512=161%:%
%:%513=162%:%
%:%514=163%:%
%:%515=163%:%
%:%516=164%:%
%:%517=164%:%
%:%518=165%:%
%:%519=165%:%
%:%520=166%:%
%:%521=166%:%
%:%522=166%:%
%:%523=166%:%
%:%524=167%:%
%:%525=167%:%
%:%526=167%:%
%:%527=167%:%
%:%528=168%:%
%:%529=168%:%
%:%530=169%:%
%:%531=169%:%
%:%532=169%:%
%:%533=169%:%
%:%534=169%:%
%:%535=170%:%
%:%536=170%:%
%:%537=170%:%
%:%538=170%:%
%:%539=171%:%
%:%540=171%:%
%:%541=172%:%
%:%542=172%:%
%:%543=172%:%
%:%544=172%:%
%:%545=173%:%
%:%546=173%:%
%:%547=173%:%
%:%548=174%:%
%:%549=174%:%
%:%550=175%:%
%:%551=175%:%
%:%552=176%:%
%:%553=176%:%
%:%554=176%:%
%:%555=176%:%
%:%556=176%:%
%:%557=177%:%
%:%558=178%:%
%:%559=178%:%
%:%560=178%:%
%:%561=178%:%
%:%562=178%:%
%:%563=179%:%
%:%564=179%:%
%:%565=180%:%
%:%566=180%:%
%:%567=180%:%
%:%568=180%:%
%:%569=181%:%
%:%570=182%:%
%:%571=182%:%
%:%572=183%:%
%:%573=183%:%
%:%574=183%:%
%:%575=184%:%
%:%576=184%:%
%:%577=185%:%
%:%578=185%:%
%:%579=185%:%
%:%580=185%:%
%:%581=186%:%
%:%582=186%:%
%:%583=187%:%
%:%584=188%:%
%:%585=188%:%
%:%586=188%:%
%:%587=188%:%
%:%588=188%:%
%:%589=189%:%
%:%590=189%:%
%:%591=190%:%
%:%592=190%:%
%:%593=191%:%
%:%594=191%:%
%:%595=192%:%
%:%596=192%:%
%:%597=193%:%
%:%598=193%:%
%:%599=194%:%
%:%600=194%:%
%:%601=195%:%
%:%602=195%:%
%:%603=195%:%
%:%604=196%:%
%:%605=196%:%
%:%606=197%:%
%:%607=197%:%
%:%608=198%:%
%:%609=198%:%
%:%610=198%:%
%:%611=199%:%
%:%612=199%:%
%:%613=199%:%
%:%614=199%:%
%:%615=200%:%
%:%616=200%:%
%:%617=201%:%
%:%618=201%:%
%:%619=202%:%
%:%620=202%:%
%:%621=203%:%
%:%622=203%:%
%:%623=203%:%
%:%624=203%:%
%:%625=203%:%
%:%626=204%:%
%:%627=204%:%
%:%628=205%:%
%:%629=205%:%
%:%630=206%:%
%:%631=206%:%
%:%632=206%:%
%:%633=206%:%
%:%634=206%:%
%:%635=207%:%
%:%636=207%:%
%:%637=207%:%
%:%638=207%:%
%:%639=207%:%
%:%640=208%:%
%:%641=208%:%
%:%642=208%:%
%:%643=208%:%
%:%644=209%:%
%:%645=209%:%
%:%646=210%:%
%:%647=210%:%
%:%648=211%:%
%:%649=211%:%
%:%650=212%:%
%:%651=212%:%
%:%652=213%:%
%:%653=213%:%
%:%654=214%:%
%:%655=214%:%
%:%656=214%:%
%:%657=215%:%
%:%658=215%:%
%:%659=215%:%
%:%660=215%:%
%:%661=216%:%
%:%662=216%:%
%:%663=217%:%
%:%664=217%:%
%:%665=218%:%
%:%666=218%:%
%:%667=219%:%
%:%668=219%:%
%:%669=219%:%
%:%670=219%:%
%:%671=219%:%
%:%672=220%:%
%:%673=220%:%
%:%674=221%:%
%:%675=221%:%
%:%676=222%:%
%:%677=222%:%
%:%678=222%:%
%:%679=222%:%
%:%680=222%:%
%:%681=223%:%
%:%682=223%:%
%:%683=223%:%
%:%684=223%:%
%:%685=223%:%
%:%686=224%:%
%:%687=224%:%
%:%688=224%:%
%:%689=224%:%
%:%690=225%:%
%:%691=225%:%
%:%692=226%:%
%:%693=226%:%
%:%694=227%:%
%:%695=227%:%
%:%696=228%:%
%:%697=228%:%
%:%698=229%:%
%:%699=229%:%
%:%700=230%:%
%:%701=230%:%
%:%702=231%:%
%:%703=231%:%
%:%704=231%:%
%:%705=232%:%
%:%706=232%:%
%:%707=232%:%
%:%708=232%:%
%:%709=233%:%
%:%710=233%:%
%:%711=234%:%
%:%712=234%:%
%:%713=234%:%
%:%714=234%:%
%:%715=235%:%
%:%716=236%:%
%:%717=236%:%
%:%718=237%:%
%:%719=237%:%
%:%720=237%:%
%:%721=237%:%
%:%722=237%:%
%:%723=238%:%
%:%724=238%:%
%:%725=238%:%
%:%726=238%:%
%:%727=238%:%
%:%728=239%:%
%:%729=239%:%
%:%730=240%:%
%:%731=240%:%
%:%732=241%:%
%:%733=241%:%
%:%734=242%:%
%:%735=242%:%
%:%736=243%:%
%:%737=243%:%
%:%738=244%:%
%:%739=244%:%
%:%740=245%:%
%:%741=245%:%
%:%742=246%:%
%:%743=247%:%
%:%744=247%:%
%:%745=248%:%
%:%746=248%:%
%:%747=249%:%
%:%748=249%:%
%:%749=250%:%
%:%750=250%:%
%:%751=250%:%
%:%752=250%:%
%:%753=251%:%
%:%754=251%:%
%:%755=251%:%
%:%756=251%:%
%:%757=251%:%
%:%758=252%:%
%:%759=252%:%
%:%760=252%:%
%:%761=252%:%
%:%762=252%:%
%:%763=253%:%
%:%764=253%:%
%:%765=253%:%
%:%766=253%:%
%:%767=253%:%
%:%768=254%:%
%:%769=254%:%
%:%770=254%:%
%:%771=254%:%
%:%772=255%:%
%:%773=255%:%
%:%774=256%:%
%:%775=256%:%
%:%776=256%:%
%:%777=256%:%
%:%778=256%:%
%:%779=257%:%
%:%780=257%:%
%:%781=258%:%
%:%782=258%:%
%:%783=259%:%
%:%784=259%:%
%:%785=259%:%
%:%786=259%:%
%:%787=259%:%
%:%788=260%:%
%:%789=260%:%
%:%790=260%:%
%:%791=260%:%
%:%792=261%:%
%:%793=261%:%
%:%794=261%:%
%:%795=261%:%
%:%796=262%:%
%:%797=262%:%
%:%798=262%:%
%:%799=262%:%
%:%800=262%:%
%:%801=263%:%
%:%802=263%:%
%:%803=263%:%
%:%804=263%:%
%:%805=263%:%
%:%806=264%:%
%:%807=264%:%
%:%808=264%:%
%:%809=264%:%
%:%810=264%:%
%:%811=265%:%
%:%812=265%:%
%:%813=265%:%
%:%814=265%:%
%:%815=266%:%
%:%816=266%:%
%:%817=267%:%
%:%818=267%:%
%:%819=267%:%
%:%820=267%:%
%:%821=267%:%
%:%822=268%:%
%:%823=268%:%
%:%824=269%:%
%:%830=269%:%
%:%833=270%:%
%:%836=271%:%
%:%841=272%:%
